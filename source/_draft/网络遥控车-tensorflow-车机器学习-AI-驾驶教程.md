---
title: 网络遥控车 tensorflow 车机器学习 AI 驾驶教程
date: 2020-04-30 08:41:37
tags:
  - 网络遥控车
  - 技术
  - 网络 RC
  - WiFi/4G/5G 网络遥控车
  - 教程
  - 树莓派
  - 网络图传
  - 树莓派小车
  - AI 驾驶
  - 机器学习
  - tensorflow
categories:
  - 教程
  - 网络遥控车
---

![AI 驾驶]

<!-- more  -->

## 简介

本教程教大家如何让网络遥控车使用 network-rc 的 AI 驾驶功能。

## 安装最新的 network-rc

network-rc 最新版本已经包含 AI 功能。  
在树莓派上使用

```bash
wget https://esonwong.synology.me:5012/network-rc.tar.gz
```

下载 network-rc 始终会下载当前最新版本。

## AI 功能界面

![network-rc 主菜单]
运行 network-rc 后访问控制界面，主菜单里即可打开 AI 功能界面。

### 样本采集

![network-rc AI 样本采集]
进入 AI 功能界面后，就是样本采集界面。上方的动作按钮在打开摄像头后点击可以添加学习所需要的样本。样本将显示在界面下方，错误的样本可以删除。导出按钮可以下载当前所有样本，导入按钮可以加载导出过的样本。点击下一步按钮进入学习训练界面。

### 学习训练

![network-rc AI 学习训练]
有了样本即可点击训练按钮使用训练参数训练 AI 模型。导出按钮可以导出训练好的 AI 模型到本地。点击下一步按钮使用训练好的 AI 模型进入自动驾驶界面。

### 自动驾驶

![network-rc AI 自动驾驶]
自动驾驶界面的操作间隔可以指定每次 AI 驾驶操作之间的间隔，单位为毫秒。

“动作”显示每次 AI 驾驶操作的动作、信心值和决策耗时。导入模型可以导入本地 AI 模型和预置 AI 模型。存在 AI 模型即可使用测试和开始 AI 驾驶按钮。

## 人体跟随

AI 驾驶基于图像和动作学习，能根据你的想象力实现各种驾驶场景。比如人体跟随、跑道自动驾驶、踢球等等。这里我以人体跟随为例介绍如何训练和使用 AI。

### 采集样本

在样本采集界面采集样本，打开摄像头。

人物保持在摄像头画面左边，轻微移动，采集 10 个左右不同位置的“左转弯”的样本。同样采集 10 个“右转弯”样本。人物保持在摄像头画面里远离遥控车，轻微移动，采集 10 个左右不同位置的“前进”的样本。人物保持在摄像头画面里靠近遥控车，轻微移动，同样采集 10 个左右不同位置的“倒退”的样本。保持摄像头画面内没有人，轻微移动遥控车，采集 10 个左右“停止”样本。

更换几次摄像头画面中的背景，重复以上操作，以消除背景对 AI 判断的影响。

检查样本，删除错误的样本。导出样本，以备下次再用。进入下一步。

### 训练

使用默认训练参数对 AI 进行训练。训练完成后下一步进入自动驾驶界面。

> 有能力自己调整学习参数的请自行调整，否者请使用默认值。

### 自动驾驶

首先我们点击测试按钮来观察 AI 驾驶的动作是否符合预期。如果觉得和预期较大的出入，请检查样本或录入更多样本，什么不对就教什么。

> ⚠️ 注意：AI 驾驶存在安全隐患，在实际驾驶场地测试动 AI 的动作后，再进行自动驾驶。

如果测试没什么问题，调整操作间隔，然后就可以开始 AI 自动驾驶了。

> ⚠️ 注意：AI 驾驶存在安全隐患，自动驾驶前请将油门调到尽可能小。

> ⚠️ 注意：控制端的摄像头画面解码和渲染还有 AI 驾驶均使用 GPU 运算，如果操作间隔设为 0 则上次驾驶操作完成立即进行下次动作计算，将会拉满控制端设备的 GPU。

如果对驾驶的 AI 模型比较满意，可以在学习训练界面导出模型到本地，下次使用只需在自动驾驶界面导入本地模型，即可开始 AI 驾驶。

## 人体跟随模型

作者预置了训练好的人体跟随模型，导入模型时选择`人体跟随模型`即可进行 AI 驾驶。

## 效果
### 踢球
<iframe src="//player.bilibili.com/player.html?aid=837937095&bvid=BV1qg4y1z71q&cid=184788894&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

### 人体跟随


[ai 驾驶]: /asset/4G:5G%20网络RC遥控车04%20-%20AI%20学习教程？-封面.jpg
[network-rc 主菜单]: /asset/network-rc-menu.png
[network-rc ai 样本采集]: /asset/network-rc-ai-sample.png
[network-rc ai 学习训练]: /asset/network-rc-ai-learning.png
[network-rc ai 自动驾驶]: /asset/network-rc-ai-drive.png
